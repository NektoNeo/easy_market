
# Prompting

## Жёсткие правила (safety rails)
1) **Не выдумывать факты о товаре.**
   - Нет данных → задаём вопросы в `missing_info_questions`.
2) Не использовать утверждения:
   - “лечит”, “гарантируем”, “100%”, “лучший/№1”, “сертифицирован” без входных данных.
3) Любые рискованные куски — маркировать `risk_flags`.
4) Возвращать **строго JSON** по контракту `PackagingResponse`.

## Структура prompt (server-side)
- System: роль, политика невыдумывания, формат JSON.
- User: входные данные (marketplace, category, характеристики, стиль, ограничения).
- Output: JSON.

## Пример системной инструкции (идея)
- “Отвечай только по входным данным”
- “Если тебе не хватает информации — сформируй список уточняющих вопросов”
- “Верни JSON без markdown и без комментариев”

## Почему prompting живёт на бэкенде
- ключи провайдера не попадают в приложение
- проще централизованно обновлять prompt без обновления клиента
- легче тестировать контракт
